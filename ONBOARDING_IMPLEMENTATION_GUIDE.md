# 온보딩 기능 구현 가이드

## 📋 구현 완료 사항

### ✅ 완료된 작업
1. **OnboardingModal 컴포넌트** 생성 (`app/components/OnboardingModal.jsx`)
2. **Supabase 함수** 추가 (`lib/supabase.js`)
   - `updateOnboardingStatus()`: 온보딩 상태 업데이트
   - `checkOnboardingStatus()`: 온보딩 상태 확인
3. **Persona 페이지 통합** (`app/persona/page.jsx`)
   - 온보딩 상태 확인 로직
   - "서비스 설명" 버튼 추가
   - 온보딩 모달 연동
4. **CSS 스타일** 추가 (`app/globals.css`)
   - 온보딩 모달 스타일
   - 반응형 디자인
5. **데이터베이스 스키마** 준비 (`database/onboarding_schema.sql`)

## 🚀 다음 단계

### 1. 데이터베이스 업데이트
```sql
-- Supabase SQL Editor에서 실행
-- database/onboarding_schema.sql 파일의 내용을 실행하세요
```

### 2. 스크린샷 이미지 준비
다음 4개의 스크린샷을 `public/onboarding/` 폴더에 추가하세요:

1. **slide1-persona-selection.webp** - 페르소나 선택 화면
2. **slide2-chat-simulation.webp** - 채팅 시뮬레이션 화면  
3. **slide3-date-start.webp** - 데이트 시작 화면
4. **slide4-studio-feedback.webp** - 백엔드 스튜디오 화면

### 3. 테스트 및 검증

#### 온보딩 플로우 테스트
1. 새 사용자로 로그인
2. Persona 페이지 진입 시 온보딩 모달 표시 확인
3. 슬라이드 네비게이션 테스트
4. "다시 보지 않기" 체크박스 테스트
5. "시작하기" 버튼 클릭 시 상태 업데이트 확인

#### 상단바 버튼 테스트
1. 온보딩 완료 후 "서비스 설명" 버튼 표시 확인
2. 버튼 클릭 시 온보딩 모달 재표시 확인

## 🎨 온보딩 슬라이드 내용

### 슬라이드 1: 페르소나 선택
```
제목: "마음에 드는 상대를 선택하세요"
설명: "10명의 다양한 AI 페르소나 중에서 마음에 드는 상대를 선택할 수 있습니다."
```

### 슬라이드 2: 채팅 시뮬레이션
```
제목: "자연스러운 대화를 미리 연습해보세요"
설명: "선택한 상대와 실제 데이트 전에 대화를 미리 연습해볼 수 있습니다."
```

### 슬라이드 3: 데이트 시작
```
제목: "실제 데이트를 시작해보세요"
설명: "준비가 완료되면 실제 AI 데이트 연습을 시작할 수 있습니다."
```

### 슬라이드 4: 실시간 피드백
```
제목: "실시간 피드백으로 소통 능력을 향상시키세요"
설명: "카메라와 마이크를 통해 실시간으로 자세, 시선, 목소리를 분석받습니다."
```

## 🔧 기술적 세부사항

### 데이터베이스 필드
- `onboarding_completed`: 온보딩 완료 여부 (BOOLEAN)
- `onboarding_dismissed`: 온보딩 거부 여부 (BOOLEAN)
- `onboarding_viewed_at`: 마지막 조회 시간 (TIMESTAMP)

### 상태 관리
- 사용자별 온보딩 상태는 Supabase users 테이블에 저장
- 첫 진입 시 자동으로 온보딩 상태 확인
- "다시 보지 않기" 선택 시 해당 상태 저장

### UI/UX 특징
- **슬라이드 형식**: 4장의 스크린샷 기반 온보딩
- **진행률 표시**: 하단 점진적 진행률 바
- **스킵 옵션**: "다시 보지 않기" 체크박스
- **반응형**: 모바일/데스크톱 최적화
- **접근성**: 키보드 네비게이션 지원

## 📊 분석 및 개선

### 온보딩 완료율 측정
```sql
-- 온보딩 통계 확인
SELECT * FROM onboarding_stats;
```

### A/B 테스트 가능성
- 온보딩 슬라이드 순서 변경
- 설명 텍스트 최적화
- 버튼 위치 및 디자인 테스트

## 🐛 문제 해결

### 일반적인 이슈
1. **온보딩이 표시되지 않는 경우**
   - 사용자 세션 확인
   - 데이터베이스 필드 존재 여부 확인

2. **이미지가 로드되지 않는 경우**
   - placeholder 이미지로 대체됨
   - 실제 스크린샷 이미지 추가 필요

3. **상태 업데이트 실패**
   - Supabase 연결 상태 확인
   - 사용자 권한 확인

## 📈 향후 개선 방향

1. **다국어 지원**: i18n을 통한 다국어 온보딩
2. **개인화**: 사용자 행동 기반 맞춤형 온보딩
3. **인터랙티브**: 실제 기능을 체험할 수 있는 인터랙티브 온보딩
4. **분석**: 온보딩 완료율 및 사용자 행동 분석

---

**구현 완료 후**: 실제 스크린샷 이미지를 추가하고 사용자 테스트를 진행하여 온보딩 효과를 검증하세요.
